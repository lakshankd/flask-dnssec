{% extends "base_no_navbar.html" %}

{% block title %}Login - DNSSEC Guardian{% endblock %}

{% block content %}
    <div class="login-container">
        <div class="logo-container">
            <img src="{{ url_for('static', filename='images/logo-transparent.png') }}" alt="DNSSEC Guardian Logo"
                 class="app-logo">
        </div>
        <h2>Login to DNS Server</h2>
        {% if error %}
            <p class="error">{{ error }}</p>
        {% endif %}
        <form method="POST" id="login-form">
            <input type="text" name="hostname" placeholder="Hostname" required>
            <input type="text" name="username" placeholder="Username" required>
            <input type="password" name="password" placeholder="Password" required>
            <button type="submit">Connect</button>
        </form>

        <div class="loader" id="login-loader" hidden>
            <i class="fa fa-spinner fa-spin"></i> Loading...
        </div>
    </div>

    <script>
        document.getElementById('login-form').addEventListener('submit', function () {
            document.getElementById('login-loader').hidden = false;

            const submitButton = this.querySelector('button[type="submit"]');
            submitButton.disabled = true;
        });
    </script>
{% endblock %}